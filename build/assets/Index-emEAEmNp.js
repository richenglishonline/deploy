import{r as x,a as V,o as $,c as a,b as n,u as m,h as P,w as v,d as e,e as u,k as f,q as B,v as y,f as r,F as _,g as M,i as h,t as c,j as S,n as w}from"./app-CqMAm5wH.js";import{b as F,e as I,_ as N}from"./AuthenticatedLayout-DuFXXGSV.js";import{a as j}from"./api-DzXf9D7P.js";import{_ as k}from"./Button-Cw33YdK9.js";const D={class:"flex items-center justify-between"},L={class:"py-10"},T={class:"mx-auto max-w-7xl space-y-6 px-4 sm:px-6 lg:px-8"},U={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm"},E={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},R={class:"flex items-end gap-3 sm:col-span-2 lg:col-span-3"},q=["disabled"],z=["disabled"],G={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},H={class:"flex items-start gap-4"},J={class:"flex-shrink-0"},K={class:"flex-1 min-w-0"},O={class:"flex items-center gap-2 mb-2"},Q={class:"text-lg font-semibold text-gray-900"},W={key:0,class:"inline-flex items-center rounded-full bg-green-100 px-2 py-0.5 text-xs font-medium text-green-800"},X={key:0,class:"text-sm text-gray-500 line-clamp-2 mb-2"},Y={class:"flex items-center gap-4 text-xs text-gray-500"},Z={key:0},ee={key:1},te={class:"mt-4"},se={key:0,class:"text-center py-12"},oe={key:1,class:"flex flex-col items-center justify-between gap-4 border-t border-gray-200 px-6 py-4 text-sm text-gray-600 sm:flex-row"},le={class:"flex items-center gap-2"},ie=["disabled"],ae=["disabled"],ge={__name:"Index",setup(re){const d=x(!1),p=x([]),l=x(null),o=V({search:"",level:"",is_active:"",page:1,limit:20}),g=async()=>{d.value=!0;try{const{data:i}=await j.get("/curriculum",{params:o});p.value=i.curricula,l.value=i.pagination}catch(i){console.error("Error fetching curricula:",i)}finally{d.value=!1}},b=i=>{l.value&&(i<1||i>l.value.totalPages||(o.page=i,g()))},C=()=>{o.search="",o.level="",o.is_active="",o.page=1,g()};return $(g),(i,t)=>(r(),a(_,null,[n(m(P),{title:"Curriculum Access"}),n(N,null,{header:v(()=>[e("div",D,[t[8]||(t[8]=e("div",null,[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Curriculum Access "),e("p",{class:"text-sm text-gray-500"}," Manage curriculum resources and access control. ")],-1)),n(k,{onClick:g,disabled:d.value},{default:v(()=>[...t[7]||(t[7]=[w(" Refresh ",-1)])]),_:1},8,["disabled"])])]),default:v(()=>[e("div",L,[e("div",T,[e("div",U,[e("form",E,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700"}," Search ",-1)),f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.search=s),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Search by title or description"},null,512),[[B,o.search]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700"}," Level ",-1)),f(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.level=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...t[10]||(t[10]=[e("option",{value:""},"All Levels",-1),e("option",{value:"Beginner"},"Beginner",-1),e("option",{value:"Intermediate"},"Intermediate",-1),e("option",{value:"Advanced"},"Advanced",-1)])],512),[[y,o.level]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700"}," Status ",-1)),f(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.is_active=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...t[12]||(t[12]=[e("option",{value:""},"All",-1),e("option",{value:"true"},"Active",-1),e("option",{value:"false"},"Inactive",-1)])],512),[[y,o.is_active]])]),e("div",R,[e("button",{type:"button",onClick:g,class:"flex-1 rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",disabled:d.value}," Apply Filters ",8,q),e("button",{type:"button",onClick:C,class:"flex-1 rounded-md border border-gray-300 px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50",disabled:d.value}," Reset ",8,z)])])]),e("div",G,[(r(!0),a(_,null,M(p.value,s=>(r(),a("div",{key:s.id,class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:t[4]||(t[4]=A=>m(h).visit(i.route("curriculum.index")))},[e("div",H,[e("div",J,[n(m(F),{class:"h-8 w-8 text-indigo-600"})]),e("div",K,[e("div",O,[e("h3",Q,c(s.title),1),s.is_active?(r(),a("span",W," Active ")):u("",!0)]),s.description?(r(),a("p",X,c(s.description),1)):u("",!0),e("div",Y,[s.level?(r(),a("span",Z,c(s.level),1)):u("",!0),s.duration_minutes?(r(),a("span",ee,c(s.duration_minutes)+" min",1)):u("",!0)]),e("div",te,[n(k,{onClick:t[3]||(t[3]=S(A=>m(h).visit(i.route("curriculum.index")),["stop"])),variant:"outline",size:"sm"},{default:v(()=>[...t[14]||(t[14]=[w(" View Details ",-1)])]),_:1})])])])]))),128))]),!d.value&&p.value.length===0?(r(),a("div",se,[n(m(I),{class:"mx-auto h-12 w-12 text-gray-400"}),t[15]||(t[15]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No curriculum found",-1)),t[16]||(t[16]=e("p",{class:"mt-1 text-sm text-gray-500"},"Create a new curriculum to get started.",-1))])):u("",!0),l.value?(r(),a("div",oe,[e("div",null," Page "+c(l.value.page)+" of "+c(l.value.totalPages??1),1),e("div",le,[e("button",{onClick:t[5]||(t[5]=s=>b(l.value.page-1)),class:"rounded-md border border-gray-300 px-3 py-1 hover:bg-gray-50",disabled:d.value||l.value.page===1}," Previous ",8,ie),e("button",{onClick:t[6]||(t[6]=s=>b(l.value.page+1)),class:"rounded-md border border-gray-300 px-3 py-1 hover:bg-gray-50",disabled:d.value||l.value.page===l.value.totalPages}," Next ",8,ae)])])):u("",!0)])])]),_:1})],64))}};export{ge as default};
