import{r as c,m as p,o as y,c as o,b as u,u as b,h as x,w,d as e,f as a,F as i,g as _,s as k,p as C,G as T,t as l}from"./app-0fzbWLMr.js";import{c as $,b as N,a as D,e as h,_ as M}from"./AuthenticatedLayout-7O23QDDk.js";import{_ as B}from"./DashboardHeader-DJp4Ro-e.js";import{a as F}from"./api-CjtnGutK.js";import{r as m}from"./ClockIcon-veaSfNti.js";const H={class:"space-y-6"},P={key:0,class:"space-y-6"},S={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},W={class:"p-5"},A={class:"flex items-center"},L={class:"flex-shrink-0"},V={class:"ml-5 w-0 flex-1"},z={class:"text-sm font-medium text-gray-500 truncate"},E={class:"text-lg font-medium text-gray-900"},G={class:"mt-8 bg-white shadow-lg rounded-lg p-6"},R={key:0,class:"space-y-3"},j={class:"font-medium text-gray-800"},q={class:"text-sm text-gray-600"},I={class:"text-sm text-gray-600"},J={key:1,class:"text-gray-500 text-center py-6"},Z={__name:"Dashboard",setup(K){const d=c(!1),r=c(null),g=c(!1),v=p(()=>{if(!r.value)return[];const s=r.value.stats||{};return[{name:"Total Students",value:s.totalStudents??0,icon:$,color:"bg-blue-500"},{name:"Total Classes",value:s.totalClasses??0,icon:N,color:"bg-green-500"},{name:"Total Assignments",value:s.totalAssignments??0,icon:D,color:"bg-yellow-500"},{name:"Notifications",value:s.totalNotifications??0,icon:m,color:"bg-red-500"},{name:"Hours This Month",value:s.totalHoursMonth??0,icon:m,color:"bg-purple-500"},{name:"Hours This Week",value:s.totalHoursWeek??0,icon:m,color:"bg-indigo-500"},{name:"Payment This Month",value:`₱${Number(s.totalPaymentMonth??0).toFixed(2)}`,icon:h,color:"bg-orange-500"},{name:"Payment This Week",value:`₱${Number(s.totalPaymentWeek??0).toFixed(2)}`,icon:h,color:"bg-teal-500"}]}),f=async()=>{if(!(d.value||g.value)){d.value=!0;try{const{data:s}=await F.get("/dashboard/stats");r.value=s,g.value=!0}catch(s){console.error("Dashboard stats error:",s)}finally{d.value=!1}}};return y(()=>{f()}),(s,n)=>(a(),o(i,null,[u(b(x),{title:"Teacher Dashboard"}),u(M,null,{default:w(()=>[e("div",H,[u(B),d.value?(a(),o("div",P,[...n[0]||(n[0]=[e("div",{class:"w-full h-96 mb-12 mt-5 bg-gray-200 animate-pulse rounded"},null,-1),e("div",{class:"w-full h-96 bg-gray-200 animate-pulse rounded"},null,-1)])])):(a(),o(i,{key:1},[e("div",S,[(a(!0),o(i,null,_(v.value,t=>(a(),o("div",{key:t.name,class:"bg-white overflow-hidden shadow rounded-lg"},[e("div",W,[e("div",A,[e("div",L,[e("div",{class:k([t.color,"p-3 rounded-md"])},[(a(),C(T(t.icon),{class:"h-6 w-6 text-white"}))],2)]),e("div",V,[e("dl",null,[e("dt",z,l(t.name),1),e("dd",E,l(t.value),1)])])])])]))),128))]),e("div",G,[n[1]||(n[1]=e("h2",{class:"text-lg font-semibold mb-4"},"Recent Classes",-1)),r.value?.stats?.classes?.length?(a(),o("ul",R,[(a(!0),o(i,null,_(r.value.stats.classes,t=>(a(),o("li",{key:t.id,class:"p-4 border rounded-md"},[e("div",j,l(t.type),1),e("div",q,l(t.start_date)+" → "+l(t.end_date),1),e("div",I,l(t.start_time)+" - "+l(t.end_time),1)]))),128))])):(a(),o("div",J," No recent classes found. "))]),n[2]||(n[2]=e("div",{class:"mt-8 bg-white rounded-lg shadow-lg p-6"},[e("div",{class:"text-center text-gray-500 py-8"}," Calendar will be displayed here ")],-1))],64))])]),_:1})],64))}};export{Z as default};
