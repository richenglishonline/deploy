import{c as o,d as e,f as a,r as c,m as y,o as b,b as u,u as x,h as w,w as k,F as i,g as h,s as C,p as T,G as $,t as l}from"./app-m0EauCUY.js";import{g as M,d as N,c as B,h as m,_ as D}from"./AuthenticatedLayout-OkZKskr4.js";import{_ as F}from"./DashboardHeader-DeUr5HOb.js";import{a as H}from"./api-p6Oc_tdf.js";function _(v,r){return a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const P={class:"space-y-6"},S={key:0,class:"space-y-6"},W={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},A={class:"p-5"},L={class:"flex items-center"},V={class:"flex-shrink-0"},j={class:"ml-5 w-0 flex-1"},z={class:"text-sm font-medium text-gray-500 truncate"},E={class:"text-lg font-medium text-gray-900"},G={class:"mt-8 bg-white shadow-lg rounded-lg p-6"},R={key:0,class:"space-y-3"},Z={class:"font-medium text-gray-800"},q={class:"text-sm text-gray-600"},I={class:"text-sm text-gray-600"},J={key:1,class:"text-gray-500 text-center py-6"},X={__name:"Dashboard",setup(v){const r=c(!1),d=c(null),g=c(!1),f=y(()=>{if(!d.value)return[];const t=d.value.stats||{};return[{name:"Total Students",value:t.totalStudents??0,icon:M,color:"bg-blue-500"},{name:"Total Classes",value:t.totalClasses??0,icon:N,color:"bg-green-500"},{name:"Total Assignments",value:t.totalAssignments??0,icon:B,color:"bg-yellow-500"},{name:"Notifications",value:t.totalNotifications??0,icon:m,color:"bg-red-500"},{name:"Hours This Month",value:t.totalHoursMonth??0,icon:m,color:"bg-purple-500"},{name:"Hours This Week",value:t.totalHoursWeek??0,icon:m,color:"bg-indigo-500"},{name:"Payment This Month",value:`₱${Number(t.totalPaymentMonth??0).toFixed(2)}`,icon:_,color:"bg-orange-500"},{name:"Payment This Week",value:`₱${Number(t.totalPaymentWeek??0).toFixed(2)}`,icon:_,color:"bg-teal-500"}]}),p=async()=>{if(!(r.value||g.value)){r.value=!0;try{const{data:t}=await H.get("/dashboard/stats");d.value=t,g.value=!0}catch(t){console.error("Dashboard stats error:",t)}finally{r.value=!1}}};return b(()=>{p()}),(t,n)=>(a(),o(i,null,[u(x(w),{title:"Teacher Dashboard"}),u(D,null,{default:k(()=>[e("div",P,[u(F),r.value?(a(),o("div",S,[...n[0]||(n[0]=[e("div",{class:"w-full h-96 mb-12 mt-5 bg-gray-200 animate-pulse rounded"},null,-1),e("div",{class:"w-full h-96 bg-gray-200 animate-pulse rounded"},null,-1)])])):(a(),o(i,{key:1},[e("div",W,[(a(!0),o(i,null,h(f.value,s=>(a(),o("div",{key:s.name,class:"bg-white overflow-hidden shadow rounded-lg"},[e("div",A,[e("div",L,[e("div",V,[e("div",{class:C([s.color,"p-3 rounded-md"])},[(a(),T($(s.icon),{class:"h-6 w-6 text-white"}))],2)]),e("div",j,[e("dl",null,[e("dt",z,l(s.name),1),e("dd",E,l(s.value),1)])])])])]))),128))]),e("div",G,[n[1]||(n[1]=e("h2",{class:"text-lg font-semibold mb-4"},"Recent Classes",-1)),d.value?.stats?.classes?.length?(a(),o("ul",R,[(a(!0),o(i,null,h(d.value.stats.classes,s=>(a(),o("li",{key:s.id,class:"p-4 border rounded-md"},[e("div",Z,l(s.type),1),e("div",q,l(s.start_date)+" → "+l(s.end_date),1),e("div",I,l(s.start_time)+" - "+l(s.end_time),1)]))),128))])):(a(),o("div",J," No recent classes found. "))]),n[2]||(n[2]=e("div",{class:"mt-8 bg-white rounded-lg shadow-lg p-6"},[e("div",{class:"text-center text-gray-500 py-8"}," Calendar will be displayed here ")],-1))],64))])]),_:1})],64))}};export{X as default};
