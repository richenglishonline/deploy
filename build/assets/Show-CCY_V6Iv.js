import{l as C,m as p,r as f,o as S,c as v,b as s,u,h as N,w as o,d as e,e as y,f as g,t as i,n as d,p as I,i as _,F as V}from"./app-Df2mZBCJ.js";import{_ as E}from"./AuthenticatedLayout-BZV3tvjz.js";import{a as b}from"./api-CaAFynDB.js";import{_ as x}from"./Button-CHQKV9hm.js";import{_ as L,a as T,b as F,c as U}from"./DialogFooter-CPPDSZgI.js";import{_ as j}from"./DialogDescription-D8MGScuH.js";import{r as q}from"./ArrowLeftIcon-D6FPbl7z.js";import{r as M}from"./TrashIcon-B9lsRP-S.js";const O={class:"flex items-center justify-between"},P={class:"flex items-center gap-4"},z={class:"text-sm text-gray-500"},G={class:"py-10"},H={class:"mx-auto max-w-7xl space-y-6 px-4 sm:px-6 lg:px-8"},J={key:0,class:"text-center py-12 text-gray-500"},K={key:1,class:"rounded-lg border border-gray-200 bg-white shadow-sm"},Q={class:"px-6 py-4"},R={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},W={class:"mt-1 text-sm text-gray-900"},X={class:"mt-1 text-sm text-gray-900"},Y={class:"mt-1 text-sm text-gray-900"},Z={class:"mt-1 text-sm text-gray-900"},tt={class:"mt-1 text-sm text-gray-900"},dt={__name:"Show",props:{assignmentId:{type:[String,Number],required:!0}},setup(k){const c=k,w=C(),D=p(()=>w.props.auth?.user?.role??"teacher"),$=p(()=>["admin","super-admin"].includes(D.value)),l=f(!1),a=f(null),r=f(!1),h=async()=>{l.value=!0;try{const{data:n}=await b.get(`/book-assign/${c.assignmentId}`);a.value=n}catch(n){console.error("Error fetching assignment:",n)}finally{l.value=!1}},A=async()=>{try{l.value=!0,await b.delete(`/book-assign/${c.assignmentId}`),_.visit(route("assignments.index"))}catch(n){console.error("Error deleting assignment:",n),r.value=!1}finally{l.value=!1}},B=n=>n?new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"—";return S(h),(n,t)=>(g(),v(V,null,[s(u(N),{title:(a.value,"Book Assignment Details")},null,8,["title"]),s(E,null,{header:o(()=>[e("div",O,[e("div",P,[e("button",{onClick:t[0]||(t[0]=m=>u(_).visit(n.route("assignments.index"))),class:"rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600"},[s(u(q),{class:"h-5 w-5"})]),e("div",null,[t[4]||(t[4]=e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Book Assignment",-1)),e("p",z,i(a.value?.book?.title??"Loading..."),1)])]),$.value?(g(),I(x,{key:0,onClick:t[1]||(t[1]=m=>r.value=!0),variant:"destructive",disabled:l.value},{default:o(()=>[s(u(M),{class:"h-4 w-4 mr-2"}),t[5]||(t[5]=d("Delete ",-1))]),_:1},8,["disabled"])):y("",!0)])]),default:o(()=>[e("div",G,[e("div",H,[l.value&&!a.value?(g(),v("div",J,"Loading assignment information...")):a.value?(g(),v("div",K,[t[11]||(t[11]=e("div",{class:"border-b border-gray-200 px-6 py-4"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Assignment Information")],-1)),e("div",Q,[e("dl",R,[e("div",null,[t[6]||(t[6]=e("dt",{class:"text-sm font-medium text-gray-500"},"Book",-1)),e("dd",W,i(a.value.book?.title??"—"),1)]),e("div",null,[t[7]||(t[7]=e("dt",{class:"text-sm font-medium text-gray-500"},"Student",-1)),e("dd",X,i(a.value.student?.name??"—"),1)]),e("div",null,[t[8]||(t[8]=e("dt",{class:"text-sm font-medium text-gray-500"},"Teacher",-1)),e("dd",Y,i(a.value.teacher?.name??"—"),1)]),e("div",null,[t[9]||(t[9]=e("dt",{class:"text-sm font-medium text-gray-500"},"Assigned By",-1)),e("dd",Z,i(a.value.assigned_by?.name??"—"),1)]),e("div",null,[t[10]||(t[10]=e("dt",{class:"text-sm font-medium text-gray-500"},"Assigned Date",-1)),e("dd",tt,i(B(a.value.created_at)),1)])])])])):y("",!0)])]),s(L,{open:r.value,"onUpdate:open":t[3]||(t[3]=m=>r.value=m)},{default:o(()=>[e("div",null,[s(T,null,{default:o(()=>[s(F,null,{default:o(()=>[...t[12]||(t[12]=[d("Delete Assignment",-1)])]),_:1}),s(j,null,{default:o(()=>[...t[13]||(t[13]=[d("Are you sure you want to delete this assignment? This action cannot be undone.",-1)])]),_:1})]),_:1}),s(U,null,{default:o(()=>[s(x,{variant:"outline",onClick:t[2]||(t[2]=m=>r.value=!1)},{default:o(()=>[...t[14]||(t[14]=[d("Cancel",-1)])]),_:1}),s(x,{variant:"destructive",onClick:A,disabled:l.value},{default:o(()=>[...t[15]||(t[15]=[d("Delete",-1)])]),_:1},8,["disabled"])]),_:1})])]),_:1},8,["open"])]),_:1})],64))}};export{dt as default};
