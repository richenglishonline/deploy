import{l as T,a as $,m as _,c as p,b as c,u as o,h as A,w as b,d as t,e as f,f as x,t as d,k as h,v as U,q as P,F as S,g as M,s as N,j,i as B,n as z}from"./app-CqMAm5wH.js";import{f as V,_ as E}from"./AuthenticatedLayout-DuFXXGSV.js";import{_ as L}from"./Button-Cw33YdK9.js";import{u as R}from"./payouts-Dsk-ZDWV.js";import{r as F}from"./ChartBarIcon-DkAZ9fRr.js";import"./api-DzXf9D7P.js";const q={class:"flex items-center justify-between"},H=["disabled"],G={class:"py-10"},J={class:"mx-auto max-w-7xl space-y-6 px-4 sm:px-6 lg:px-8"},K={key:0,class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"},O={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm"},Q={class:"flex items-center"},W={class:"flex-shrink-0"},X={class:"ml-4"},Y={class:"text-2xl font-semibold text-gray-900"},Z={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm"},tt={class:"flex items-center"},st={class:"flex-shrink-0"},et={class:"ml-4"},ot={class:"text-2xl font-semibold text-gray-900"},at={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm"},lt={class:"flex items-center"},dt={class:"flex-shrink-0"},nt={class:"ml-4"},rt={class:"text-2xl font-semibold text-gray-900"},it={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm"},ut={class:"flex items-center"},ct={class:"flex-shrink-0"},gt={class:"ml-4"},mt={class:"text-2xl font-semibold text-gray-900"},pt={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm"},xt={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},vt={class:"flex items-end gap-3 sm:col-span-2 lg:col-span-4"},yt=["disabled"],_t=["disabled"],bt={class:"overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm"},ft={class:"overflow-x-auto"},ht={class:"min-w-full divide-y divide-gray-200"},wt={class:"divide-y divide-gray-200 bg-white"},kt={key:0},Ct={class:"px-6 py-4"},Dt={class:"px-6 py-4"},Pt={class:"px-6 py-4"},St={class:"px-6 py-4 font-semibold text-gray-900"},Vt={class:"px-6 py-4"},Ft={class:"px-6 py-4"},It={key:0,class:"flex flex-col items-center justify-between gap-4 border-t border-gray-100 px-6 py-4 text-sm text-gray-600 sm:flex-row"},Tt={class:"flex items-center gap-2"},$t=["disabled"],At=["disabled"],Lt={__name:"Index",setup(Ut){T();const n=$({status:"",start_date:"",end_date:"",page:1,limit:20}),{data:w,isFetching:g,refetch:m}=R(n),r=_(()=>w?.value?.payouts??[]),i=_(()=>w?.value?.pagination??null),v=_(()=>{if(!r.value.length)return{total_payouts:0,total_amount:0,total_duration:0,total_classes:0,total_incentives:0,pending:0,processing:0,completed:0};const a=r.value.reduce((l,u)=>l+(parseFloat(u.amount)||0),0),s=r.value.reduce((l,u)=>l+(parseInt(u.duration)||0),0),e=r.value.reduce((l,u)=>l+(parseInt(u.total_class)||0),0),D=r.value.reduce((l,u)=>l+(parseFloat(u.incentives)||0),0);return{total_payouts:r.value.length,total_amount:a,total_duration:s,total_classes:e,total_incentives:D,pending:r.value.filter(l=>l.status==="pending").length,processing:r.value.filter(l=>l.status==="processing").length,completed:r.value.filter(l=>l.status==="completed").length}}),k=a=>{i.value&&(a<1||a>i.value.totalPages||(n.page=a,m()))},I=()=>{n.status="",n.start_date="",n.end_date="",n.page=1,m()},C=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"—",y=a=>a?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a):"$0.00";return(a,s)=>(x(),p(S,null,[c(o(A),{title:"Salary Management"}),c(E,null,{header:b(()=>[t("div",q,[s[8]||(s[8]=t("div",null,[t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Salary Management "),t("p",{class:"text-sm text-gray-500"}," View your payouts and salary summary. ")],-1)),t("button",{onClick:s[0]||(s[0]=(...e)=>o(m)&&o(m)(...e)),class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500",disabled:o(g)}," Refresh ",8,H)])]),default:b(()=>[t("div",G,[t("div",J,[v.value?(x(),p("div",K,[t("div",O,[t("div",Q,[t("div",W,[c(o(V),{class:"h-8 w-8 text-green-600"})]),t("div",X,[s[9]||(s[9]=t("p",{class:"text-sm font-medium text-gray-500"}," Total Amount ",-1)),t("p",Y,d(y(v.value.total_amount)),1)])])]),t("div",Z,[t("div",tt,[t("div",st,[c(o(F),{class:"h-8 w-8 text-blue-600"})]),t("div",et,[s[10]||(s[10]=t("p",{class:"text-sm font-medium text-gray-500"}," Total Hours ",-1)),t("p",ot,d(v.value.total_duration)+"h ",1)])])]),t("div",at,[t("div",lt,[t("div",dt,[c(o(F),{class:"h-8 w-8 text-purple-600"})]),t("div",nt,[s[11]||(s[11]=t("p",{class:"text-sm font-medium text-gray-500"}," Total Classes ",-1)),t("p",rt,d(v.value.total_classes),1)])])]),t("div",it,[t("div",ut,[t("div",ct,[c(o(V),{class:"h-8 w-8 text-yellow-600"})]),t("div",gt,[s[12]||(s[12]=t("p",{class:"text-sm font-medium text-gray-500"}," Total Incentives ",-1)),t("p",mt,d(y(v.value.total_incentives)),1)])])])])):f("",!0),t("div",pt,[t("form",xt,[t("div",null,[s[14]||(s[14]=t("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),h(t("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>n.status=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[...s[13]||(s[13]=[t("option",{value:""},"All Statuses",-1),t("option",{value:"pending"},"Pending",-1),t("option",{value:"processing"},"Processing",-1),t("option",{value:"completed"},"Completed",-1)])],512),[[U,n.status]])]),t("div",null,[s[15]||(s[15]=t("label",{class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),h(t("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>n.start_date=e),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[P,n.start_date]])]),t("div",null,[s[16]||(s[16]=t("label",{class:"block text-sm font-medium text-gray-700"},"End Date",-1)),h(t("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>n.end_date=e),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[P,n.end_date]])]),t("div",vt,[t("button",{type:"button",onClick:s[4]||(s[4]=(...e)=>o(m)&&o(m)(...e)),class:"flex-1 rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500",disabled:o(g)}," Apply Filters ",8,yt),t("button",{type:"button",onClick:I,class:"flex-1 rounded-md border border-gray-300 px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50",disabled:o(g)}," Reset ",8,_t)])])]),t("div",bt,[t("div",ft,[t("table",ht,[s[19]||(s[19]=t("thead",{class:"bg-gray-50"},[t("tr",{class:"text-left text-xs font-semibold uppercase tracking-wider text-gray-500"},[t("th",{scope:"col",class:"px-6 py-3"}," Period "),t("th",{scope:"col",class:"px-6 py-3"}," Duration "),t("th",{scope:"col",class:"px-6 py-3"}," Classes "),t("th",{scope:"col",class:"px-6 py-3"}," Amount "),t("th",{scope:"col",class:"px-6 py-3"}," Incentives "),t("th",{scope:"col",class:"px-6 py-3"}," Status "),t("th",{scope:"col",class:"px-6 py-3"}," Actions ")])],-1)),t("tbody",wt,[!o(g)&&r.value.length===0?(x(),p("tr",kt,[...s[17]||(s[17]=[t("td",{colspan:"7",class:"px-6 py-4 text-center text-sm text-gray-500"}," No payouts found. ",-1)])])):f("",!0),(x(!0),p(S,null,M(r.value,e=>(x(),p("tr",{key:e.id,class:"text-sm text-gray-700 hover:bg-gray-50 cursor-pointer"},[t("td",Ct,d(C(e.start_date))+" - "+d(C(e.end_date)),1),t("td",Dt,d(e.duration??"—")+" hours ",1),t("td",Pt,d(e.total_class??"—"),1),t("td",St,d(y(e.amount)),1),t("td",Vt,d(y(e.incentives)),1),t("td",Ft,[t("span",{class:N(["px-2 py-1 text-xs font-medium rounded",e.status==="completed"?"bg-green-100 text-green-800":e.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"])},d(e.status),3)]),t("td",{class:"px-6 py-4",onClick:s[5]||(s[5]=j(()=>{},["stop"]))},[c(L,{onClick:D=>o(B).visit(a.route("payouts.show",e.id)),variant:"outline",size:"sm"},{default:b(()=>[...s[18]||(s[18]=[z("View",-1)])]),_:1},8,["onClick"])])]))),128))])])]),i.value?(x(),p("div",It,[t("div",null," Page "+d(i.value.page)+" of "+d(i.value.totalPages??1),1),t("div",Tt,[t("button",{onClick:s[6]||(s[6]=e=>k(i.value.page-1)),class:"rounded-md border border-gray-300 px-3 py-1 hover:bg-gray-50",disabled:o(g)||i.value.page===1}," Previous ",8,$t),t("button",{onClick:s[7]||(s[7]=e=>k(i.value.page+1)),class:"rounded-md border border-gray-300 px-3 py-1 hover:bg-gray-50",disabled:o(g)||i.value.page===i.value.totalPages}," Next ",8,At)])])):f("",!0)])])])]),_:1})],64))}};export{Lt as default};
