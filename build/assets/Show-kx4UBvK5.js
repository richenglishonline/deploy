import{l as S,m as c,r as y,o as P,c as p,b as a,u as m,h as I,w as o,d as t,e as _,f as x,t as n,s as B,n as i,p as E,i as b,F}from"./app-Df2mZBCJ.js";import{_ as T}from"./AuthenticatedLayout-BZV3tvjz.js";import{a as w}from"./api-CaAFynDB.js";import{_ as v}from"./Button-CHQKV9hm.js";import{_ as V,a as A,b as L,c as U}from"./DialogFooter-CPPDSZgI.js";import{_ as j}from"./DialogDescription-D8MGScuH.js";import{r as q}from"./ArrowLeftIcon-D6FPbl7z.js";import{r as z}from"./TrashIcon-B9lsRP-S.js";const M={class:"flex items-center justify-between"},O={class:"flex items-center gap-4"},G={class:"text-sm text-gray-500"},H={class:"py-10"},J={class:"mx-auto max-w-7xl space-y-6 px-4 sm:px-6 lg:px-8"},K={key:0,class:"text-center py-12 text-gray-500"},Q={key:1,class:"rounded-lg border border-gray-200 bg-white shadow-sm"},R={class:"px-6 py-4"},W={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},X={class:"mt-1 text-sm text-gray-900"},Y={class:"mt-1 text-sm text-gray-900"},Z={class:"mt-1 text-sm text-gray-900"},tt={class:"mt-1 text-sm text-gray-900"},et={class:"mt-1 text-sm text-gray-900"},st={class:"mt-1 text-sm text-gray-900"},at={class:"mt-1 text-sm font-semibold text-gray-900"},lt={class:"mt-1 text-sm text-gray-900"},ot={class:"sm:col-span-2 lg:col-span-3"},nt={class:"mt-1 text-sm text-gray-900"},vt={__name:"Show",props:{payoutId:{type:[String,Number],required:!0}},setup(D){const g=D,$=S(),k=c(()=>$.props.auth?.user?.role??"teacher"),h=c(()=>k.value==="super-admin"),r=y(!1),s=y(null),d=y(!1),C=async()=>{r.value=!0;try{const{data:l}=await w.get(`/payout/${g.payoutId}`);s.value=l}catch(l){console.error("Error fetching payout:",l)}finally{r.value=!1}},N=async()=>{try{r.value=!0,await w.delete(`/payout/${g.payoutId}`),b.visit(route("payouts.index"))}catch(l){console.error("Error deleting payout:",l),d.value=!1}finally{r.value=!1}},f=l=>l?new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"—";return P(C),(l,e)=>(x(),p(F,null,[a(m(I),{title:(s.value,"Payout Details")},null,8,["title"]),a(T,null,{header:o(()=>[t("div",M,[t("div",O,[t("button",{onClick:e[0]||(e[0]=u=>m(b).visit(l.route("payouts.index"))),class:"rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600"},[a(m(q),{class:"h-5 w-5"})]),t("div",null,[e[4]||(e[4]=t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Payout Details",-1)),t("p",G,n(s.value?.teacher?.name??"Loading..."),1)])]),h.value?(x(),E(v,{key:0,onClick:e[1]||(e[1]=u=>d.value=!0),variant:"destructive",disabled:r.value},{default:o(()=>[a(m(z),{class:"h-4 w-4 mr-2"}),e[5]||(e[5]=i("Delete ",-1))]),_:1},8,["disabled"])):_("",!0)])]),default:o(()=>[t("div",H,[t("div",J,[r.value&&!s.value?(x(),p("div",K,"Loading payout information...")):s.value?(x(),p("div",Q,[e[15]||(e[15]=t("div",{class:"border-b border-gray-200 px-6 py-4"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Payout Information")],-1)),t("div",R,[t("dl",W,[t("div",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500"},"Teacher",-1)),t("dd",X,n(s.value.teacher?.name??"—"),1)]),t("div",null,[e[7]||(e[7]=t("dt",{class:"text-sm font-medium text-gray-500"},"Start Date",-1)),t("dd",Y,n(f(s.value.start_date)),1)]),t("div",null,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-gray-500"},"End Date",-1)),t("dd",Z,n(f(s.value.end_date)),1)]),t("div",null,[e[9]||(e[9]=t("dt",{class:"text-sm font-medium text-gray-500"},"Duration",-1)),t("dd",tt,n(s.value.duration??"—")+" hrs",1)]),t("div",null,[e[10]||(e[10]=t("dt",{class:"text-sm font-medium text-gray-500"},"Total Classes",-1)),t("dd",et,n(s.value.total_class??"—"),1)]),t("div",null,[e[11]||(e[11]=t("dt",{class:"text-sm font-medium text-gray-500"},"Incentives",-1)),t("dd",st,"₱"+n(Number(s.value.incentives??0).toFixed(2)),1)]),t("div",null,[e[12]||(e[12]=t("dt",{class:"text-sm font-medium text-gray-500"},"Amount",-1)),t("dd",at,"₱"+n(Number(s.value.amount??0).toFixed(2)),1)]),t("div",null,[e[13]||(e[13]=t("dt",{class:"text-sm font-medium text-gray-500"},"Status",-1)),t("dd",lt,[t("span",{class:B([{"bg-yellow-100 text-yellow-800":s.value.status==="pending","bg-blue-100 text-blue-800":s.value.status==="processing","bg-green-100 text-green-800":s.value.status==="completed"},"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium"])},n(s.value.status??"—"),3)])]),t("div",ot,[e[14]||(e[14]=t("dt",{class:"text-sm font-medium text-gray-500"},"Notes",-1)),t("dd",nt,n(s.value.notes??"—"),1)])])])])):_("",!0)])]),a(V,{open:d.value,"onUpdate:open":e[3]||(e[3]=u=>d.value=u)},{default:o(()=>[t("div",null,[a(A,null,{default:o(()=>[a(L,null,{default:o(()=>[...e[16]||(e[16]=[i("Delete Payout",-1)])]),_:1}),a(j,null,{default:o(()=>[...e[17]||(e[17]=[i("Are you sure you want to delete this payout? This action cannot be undone.",-1)])]),_:1})]),_:1}),a(U,null,{default:o(()=>[a(v,{variant:"outline",onClick:e[2]||(e[2]=u=>d.value=!1)},{default:o(()=>[...e[18]||(e[18]=[i("Cancel",-1)])]),_:1}),a(v,{variant:"destructive",onClick:N,disabled:r.value},{default:o(()=>[...e[19]||(e[19]=[i("Delete",-1)])]),_:1},8,["disabled"])]),_:1})])]),_:1},8,["open"])]),_:1})],64))}};export{vt as default};
