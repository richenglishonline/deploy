import{l as V,m as v,r as f,o as j,c as l,b as d,u as n,h as F,w as u,d as t,e as x,f as o,F as p,t as r,n as c,s as b,g as k,i as y,p as M}from"./app-C5n5MEBy.js";import{b as U,r as q,_ as z}from"./AuthenticatedLayout-CuJFiyfd.js";import{a as T}from"./api-DyaYUT2x.js";import{_ as w}from"./Button-Cx1ckUNl.js";import{_ as O,a as Y,b as G,c as H}from"./DialogFooter-DZuehxH1.js";import{_ as J}from"./DialogDescription-COX7Ypdm.js";import{r as K}from"./EnvelopeIcon-CZh0C7Z5.js";import{r as Q}from"./BanknotesIcon-CQ3ed6G6.js";import{r as R}from"./ArrowLeftIcon-BAgLMGgI.js";import{r as W}from"./TrashIcon-BFGXeiLd.js";const X={class:"flex items-center justify-between"},Z={class:"flex items-center gap-4"},I={class:"text-xl font-semibold leading-tight text-gray-800"},tt={class:"text-sm text-gray-500"},et={key:0,class:"flex items-center gap-3"},st={class:"py-10"},at={class:"mx-auto max-w-7xl space-y-6 px-4 sm:px-6 lg:px-8"},rt={key:0,class:"text-center py-12"},ot={class:"rounded-lg border border-gray-200 bg-white shadow-sm"},lt={class:"px-6 py-4"},it={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},dt={class:"mt-1 text-sm text-gray-900"},nt={class:"mt-1 text-sm text-gray-900 flex items-center gap-2"},ut={class:"mt-1 text-sm text-gray-900"},ct={class:"mt-1 text-sm text-gray-900"},xt={class:"mt-1 text-sm text-gray-900"},mt={key:0},gt={class:"mt-1 text-sm text-gray-900"},pt={key:1},yt={class:"mt-1 text-sm text-gray-900"},_t={key:2},vt={class:"mt-1 text-sm text-gray-900"},ft={key:3},ht={class:"mt-1 text-sm text-gray-900"},bt={key:4},kt={class:"mt-1 text-sm text-gray-900"},wt={class:"rounded-lg border border-gray-200 bg-white shadow-sm"},$t={class:"border-b border-gray-200 px-6 py-4"},Ct={class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},Dt={class:"px-6 py-4"},Nt={key:0,class:"text-center py-8 text-gray-500"},St={key:1,class:"overflow-x-auto"},Tt={class:"min-w-full divide-y divide-gray-200"},At={class:"divide-y divide-gray-200 bg-white"},Bt=["onClick"],Et={class:"px-4 py-3 text-sm text-gray-900"},Lt={class:"px-4 py-3 text-sm text-gray-900"},Pt={class:"px-4 py-3 text-sm text-gray-900"},Vt={class:"px-4 py-3 text-sm text-gray-900"},jt={key:0},Ft={key:1},Mt={class:"px-4 py-3 text-sm text-gray-900"},Ut={class:"rounded-lg border border-gray-200 bg-white shadow-sm"},qt={class:"border-b border-gray-200 px-6 py-4"},zt={class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},Ot={class:"px-6 py-4"},Yt={key:0,class:"text-center py-8 text-gray-500"},Gt={key:1,class:"overflow-x-auto"},Ht={class:"min-w-full divide-y divide-gray-200"},Jt={class:"divide-y divide-gray-200 bg-white"},Kt=["onClick"],Qt={class:"px-4 py-3 text-sm text-gray-900"},Rt={class:"px-4 py-3 text-sm text-gray-900"},Wt={class:"px-4 py-3 text-sm text-gray-900"},Xt={key:0,class:"rounded-lg border border-gray-200 bg-white shadow-sm"},Zt={class:"border-b border-gray-200 px-6 py-4"},It={class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},te={class:"px-6 py-4"},ee={key:0,class:"text-center py-8 text-gray-500"},se={key:1,class:"overflow-x-auto"},ae={class:"min-w-full divide-y divide-gray-200"},re={class:"divide-y divide-gray-200 bg-white"},oe=["onClick"],le={class:"px-4 py-3 text-sm text-gray-900"},ie={class:"px-4 py-3 text-sm text-gray-900"},de={class:"px-4 py-3 text-sm text-gray-900"},ne={class:"px-4 py-3 text-sm text-gray-900"},ue={class:"px-4 py-3 text-sm text-gray-900"},be={__name:"Show",props:{userId:{type:[String,Number],required:!0}},setup(A){const $=A,B=V(),h=v(()=>B.props.auth?.user?.role??"teacher"),C=v(()=>h.value==="super-admin"),E=v(()=>["admin","super-admin"].includes(h.value)),D=v(()=>C.value),m=f(!1),s=f(null);f(!1);const g=f(!1),_=i=>i?new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"—",N=i=>i||"—",L=async()=>{m.value=!0;try{const{data:i}=await T.get(`/teacher/${$.userId}`);s.value=i}catch(i){console.error("Error fetching teacher:",i)}finally{m.value=!1}},P=async()=>{try{m.value=!0,await T.delete(`/teacher/${$.userId}`),y.visit(route("teachers.index"))}catch(i){console.error("Error deleting teacher:",i),g.value=!1}finally{m.value=!1}};return j(L),(i,e)=>(o(),l(p,null,[d(n(F),{title:s.value?`${s.value.name} - Teacher Details`:"Teacher Details"},null,8,["title"]),d(z,null,{header:u(()=>[t("div",X,[t("div",Z,[t("button",{onClick:e[0]||(e[0]=a=>n(y).visit(i.route("teachers.index"))),class:"rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600"},[d(n(R),{class:"h-5 w-5"})]),t("div",null,[t("h2",I,r(s.value?.name??"Loading..."),1),t("p",tt,r(s.value?.role==="teacher"?"Teacher":"Admin"),1)])]),E.value||D.value?(o(),l("div",et,[D.value?(o(),M(w,{key:0,onClick:e[1]||(e[1]=a=>g.value=!0),variant:"destructive",disabled:m.value},{default:u(()=>[d(n(W),{class:"h-4 w-4 mr-2"}),e[4]||(e[4]=c(" Delete ",-1))]),_:1},8,["disabled"])):x("",!0)])):x("",!0)])]),default:u(()=>[t("div",st,[t("div",at,[m.value&&!s.value?(o(),l("div",rt,[...e[5]||(e[5]=[t("div",{class:"text-gray-500"},"Loading teacher information...",-1)])])):s.value?(o(),l(p,{key:1},[t("div",ot,[e[16]||(e[16]=t("div",{class:"border-b border-gray-200 px-6 py-4"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Teacher Information")],-1)),t("div",lt,[t("dl",it,[t("div",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500"},"Name",-1)),t("dd",dt,r(s.value.name??"—"),1)]),t("div",null,[e[7]||(e[7]=t("dt",{class:"text-sm font-medium text-gray-500"},"Email",-1)),t("dd",nt,[d(n(K),{class:"h-4 w-4 text-gray-400"}),c(" "+r(s.value.email??"—"),1)])]),t("div",null,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-gray-500"},"Country",-1)),t("dd",ut,r(s.value.country??"—"),1)]),t("div",null,[e[9]||(e[9]=t("dt",{class:"text-sm font-medium text-gray-500"},"Status",-1)),t("dd",ct,[t("span",{class:b([{"bg-green-100 text-green-800":s.value.status==="active","bg-yellow-100 text-yellow-800":s.value.status==="pending","bg-red-100 text-red-800":s.value.status==="inactive"},"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium"])},r(s.value.status??"—"),3)])]),t("div",null,[e[10]||(e[10]=t("dt",{class:"text-sm font-medium text-gray-500"},"Accepted",-1)),t("dd",xt,[t("span",{class:b([{"bg-green-100 text-green-800":s.value.accepted,"bg-gray-100 text-gray-800":!s.value.accepted},"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium"])},r(s.value.accepted?"Yes":"No"),3)])]),s.value.teacher_profile?(o(),l("div",mt,[e[11]||(e[11]=t("dt",{class:"text-sm font-medium text-gray-500"},"Phone",-1)),t("dd",gt,r(s.value.teacher_profile.phone??"—"),1)])):x("",!0),s.value.teacher_profile?(o(),l("div",pt,[e[12]||(e[12]=t("dt",{class:"text-sm font-medium text-gray-500"},"Degree",-1)),t("dd",yt,r(s.value.teacher_profile.degree??"—"),1)])):x("",!0),s.value.teacher_profile?(o(),l("div",_t,[e[13]||(e[13]=t("dt",{class:"text-sm font-medium text-gray-500"},"Major",-1)),t("dd",vt,r(s.value.teacher_profile.major??"—"),1)])):x("",!0),s.value.teacher_profile?(o(),l("div",ft,[e[14]||(e[14]=t("dt",{class:"text-sm font-medium text-gray-500"},"English Level",-1)),t("dd",ht,r(s.value.teacher_profile.english_level??"—"),1)])):x("",!0),s.value.teacher_profile?.assigned_admin?(o(),l("div",bt,[e[15]||(e[15]=t("dt",{class:"text-sm font-medium text-gray-500"},"Assigned Admin",-1)),t("dd",kt,r(s.value.teacher_profile.assigned_admin.name??"—"),1)])):x("",!0)])])]),t("div",wt,[t("div",$t,[t("h3",Ct,[d(n(U),{class:"h-5 w-5"}),c(" Classes ("+r(s.value.classes_teaching?.length??0)+") ",1)])]),t("div",Dt,[!s.value.classes_teaching||s.value.classes_teaching.length===0?(o(),l("div",Nt," No classes assigned ")):(o(),l("div",St,[t("table",Tt,[e[17]||(e[17]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Type "),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Student "),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Start Date "),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Time "),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Book ")])],-1)),t("tbody",At,[(o(!0),l(p,null,k(s.value.classes_teaching,a=>(o(),l("tr",{key:a.id,class:"hover:bg-gray-50 cursor-pointer",onClick:S=>n(y).visit(i.route("classes.show",a.id))},[t("td",Et,r(a.type??"—"),1),t("td",Lt,r(a.student?.name??"—"),1),t("td",Pt,r(_(a.start_date)),1),t("td",Vt,[a.start_time&&a.end_time?(o(),l("span",jt,r(N(a.start_time))+" - "+r(N(a.end_time)),1)):(o(),l("span",Ft,"—"))]),t("td",Mt,r(a.book?.title??"—"),1)],8,Bt))),128))])])]))])]),t("div",Ut,[t("div",qt,[t("h3",zt,[d(n(q),{class:"h-5 w-5"}),c(" Book Assignments ("+r(s.value.book_assignments?.length??0)+") ",1)])]),t("div",Ot,[!s.value.book_assignments||s.value.book_assignments.length===0?(o(),l("div",Yt," No book assignments ")):(o(),l("div",Gt,[t("table",Ht,[e[18]||(e[18]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Book "),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Student "),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Assigned Date ")])],-1)),t("tbody",Jt,[(o(!0),l(p,null,k(s.value.book_assignments,a=>(o(),l("tr",{key:a.id,class:"hover:bg-gray-50 cursor-pointer",onClick:S=>n(y).visit(i.route("assignments.show",a.id))},[t("td",Qt,r(a.book?.title??"—"),1),t("td",Rt,r(a.student?.name??"—"),1),t("td",Wt,r(_(a.created_at)),1)],8,Kt))),128))])])]))])]),C.value||h.value==="admin"?(o(),l("div",Xt,[t("div",Zt,[t("h3",It,[d(n(Q),{class:"h-5 w-5"}),c(" Payouts ("+r(s.value.payouts?.length??0)+") ",1)])]),t("div",te,[!s.value.payouts||s.value.payouts.length===0?(o(),l("div",ee," No payouts ")):(o(),l("div",se,[t("table",ae,[e[19]||(e[19]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Period "),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Duration "),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Classes "),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Amount "),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"}," Status ")])],-1)),t("tbody",re,[(o(!0),l(p,null,k(s.value.payouts,a=>(o(),l("tr",{key:a.id,class:"hover:bg-gray-50 cursor-pointer",onClick:S=>n(y).visit(i.route("payouts.show",a.id))},[t("td",le,r(_(a.start_date))+" - "+r(_(a.end_date)),1),t("td",ie,r(a.duration??"—")+" hrs",1),t("td",de,r(a.total_class??"—"),1),t("td",ne," ₱"+r(Number(a.amount??0).toFixed(2)),1),t("td",ue,[t("span",{class:b([{"bg-yellow-100 text-yellow-800":a.status==="pending","bg-blue-100 text-blue-800":a.status==="processing","bg-green-100 text-green-800":a.status==="completed"},"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium"])},r(a.status??"—"),3)])],8,oe))),128))])])]))])])):x("",!0)],64)):x("",!0)])]),d(O,{open:g.value,"onUpdate:open":e[3]||(e[3]=a=>g.value=a)},{default:u(()=>[t("div",null,[d(Y,null,{default:u(()=>[d(G,null,{default:u(()=>[...e[20]||(e[20]=[c("Delete Teacher",-1)])]),_:1}),d(J,null,{default:u(()=>[e[21]||(e[21]=c(" Are you sure you want to delete ",-1)),t("strong",null,r(s.value?.name),1),e[22]||(e[22]=c("? This action cannot be undone. ",-1))]),_:1})]),_:1}),d(H,null,{default:u(()=>[d(w,{variant:"outline",onClick:e[2]||(e[2]=a=>g.value=!1)},{default:u(()=>[...e[23]||(e[23]=[c("Cancel",-1)])]),_:1}),d(w,{variant:"destructive",onClick:P,disabled:m.value},{default:u(()=>[...e[24]||(e[24]=[c(" Delete ",-1)])]),_:1},8,["disabled"])]),_:1})])]),_:1},8,["open"])]),_:1})],64))}};export{be as default};
