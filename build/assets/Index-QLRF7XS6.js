import{r as p,m as B,o as F,c as o,b as c,u as f,h as T,w as x,d as s,f as n,F as g,e as _,g as b,t as i,n as k}from"./app-DIgTi3sR.js";import{k as w,_ as D}from"./AuthenticatedLayout-5E3vSrN1.js";import{_ as L}from"./Button-DdUhu-EX.js";import{a as S}from"./api-Ia4mmZAM.js";const U={class:"flex items-center justify-between"},$={class:"py-10"},j={class:"mx-auto max-w-7xl space-y-6 px-4 sm:px-6 lg:px-8"},z={key:0,class:"text-center py-12 text-gray-500"},M={class:"flex items-center gap-4 mb-6"},q={class:"text-lg font-semibold text-gray-900 capitalize"},A={class:"space-y-4"},G={class:"block text-sm font-medium text-gray-700 mb-2"},H={key:0,class:"text-xs font-normal text-gray-500 ml-2"},J=["type","value","onInput"],K={key:1,class:"flex items-center"},O=["checked","onChange"],P={class:"ml-2 text-sm text-gray-700"},Q={key:0,class:"text-center py-12"},ee={__name:"Index",setup(R){const m=p(!1),d=p(!1),u=p([]),C=p(null),E=B(()=>{const e={};return u.value.forEach(t=>{const r=t.group||"general";e[r]||(e[r]=[]),e[r].push(t)}),e}),I=async()=>{m.value=!0;try{const{data:e}=await S.get("/settings",{params:{limit:100}});u.value=e.settings,C.value=e.pagination}catch(e){console.error("Error fetching settings:",e)}finally{m.value=!1}},V=async()=>{d.value=!0;try{const e=u.value.map(t=>({key:t.key,value:t.value}));await S.post("/settings/bulk-update",{settings:e}),alert("Settings saved successfully!")}catch(e){console.error("Error saving settings:",e),alert("Failed to save settings")}finally{d.value=!1}},N=e=>{switch(e){case"number":return"number";case"boolean":return"checkbox";default:return"text"}},y=e=>e.type==="boolean"?e.value==="1"||e.value==="true"||e.value===!0:e.value||"",v=(e,t)=>{e.type==="boolean"?e.value=t?"1":"0":e.value=t};return F(I),(e,t)=>(n(),o(g,null,[c(f(T),{title:"Settings"}),c(D,null,{header:x(()=>[s("div",U,[t[0]||(t[0]=s("div",null,[s("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," System Settings "),s("p",{class:"text-sm text-gray-500"}," Configure system-wide settings and preferences. ")],-1)),c(L,{onClick:V,disabled:d.value},{default:x(()=>[k(i(d.value?"Saving...":"Save Settings"),1)]),_:1},8,["disabled"])])]),default:x(()=>[s("div",$,[s("div",j,[m.value?(n(),o("div",z,"Loading settings...")):(n(),o(g,{key:1},[(n(!0),o(g,null,b(E.value,(r,h)=>(n(),o("div",{key:h,class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm"},[s("div",M,[c(f(w),{class:"h-8 w-8 text-gray-400"}),s("h3",q,i(h)+" Settings",1)]),s("div",A,[(n(!0),o(g,null,b(r,a=>(n(),o("div",{key:a.id},[s("label",G,[k(i(a.key.replace(/_/g," ").replace(/\b\w/g,l=>l.toUpperCase()))+" ",1),a.description?(n(),o("span",H," ("+i(a.description)+") ",1)):_("",!0)]),a.type!=="boolean"?(n(),o("input",{key:0,type:N(a.type),value:y(a),onInput:l=>v(a,l.target.value),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,40,J)):(n(),o("div",K,[s("input",{type:"checkbox",checked:y(a),onChange:l=>v(a,l.target.checked),class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,40,O),s("label",P,i(y(a)?"Enabled":"Disabled"),1)]))]))),128))])]))),128)),u.value.length===0?(n(),o("div",Q,[c(f(w),{class:"mx-auto h-12 w-12 text-gray-400"}),t[1]||(t[1]=s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No settings found",-1)),t[2]||(t[2]=s("p",{class:"mt-1 text-sm text-gray-500"},"Settings will appear here once created.",-1))])):_("",!0)],64))])])]),_:1})],64))}};export{ee as default};
