import{c as i,d as s,f as o,r as a,b as v,u as r,h as B,w as P,n as g,z as k,t as w,j as E,e as h,D as V,k as _,B as C,s as S,p as b,F as D,i as z}from"./app-CcrcFIhY.js";import{a as q}from"./api-D-OI4ttb.js";function R(x,y){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})])}function j(x,y){return o(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}const A={class:"relative flex min-h-screen flex-col justify-center overflow-hidden bg-gradient-to-br from-blue-900 via-indigo-900 to-slate-950 py-12 px-4 sm:px-8 lg:px-12","data-aos":"fade-up"},F={class:"relative z-10 mx-auto flex w-full max-w-6xl flex-col overflow-hidden rounded-3xl bg-white/95 shadow-2xl shadow-blue-900/25 backdrop-blur-lg lg:flex-row","data-aos":"fade-up","data-aos-delay":"120"},L={class:"relative hidden w-full max-w-md flex-shrink-0 flex-col justify-between bg-gradient-to-b from-blue-600 via-blue-500 to-indigo-600 p-10 text-white lg:flex"},U={class:"relative z-10 space-y-6"},$={class:"relative z-10 space-y-3 text-sm text-white/75"},H={class:"w-full bg-white/95 px-8 py-12 sm:px-12 lg:px-16","data-aos":"fade-up","data-aos-delay":"200"},Z={class:"mx-auto w-full max-w-md"},T={key:0,class:"rounded-2xl bg-rose-50 p-4 text-sm text-rose-600"},Y={class:"space-y-6"},G={class:"relative mt-2"},I=["type"],J=["aria-label"],K={key:0,class:"mt-1 text-xs font-medium text-rose-500"},O={class:"relative mt-2"},Q=["type"],W=["aria-label"],X={key:0,class:"mt-1 text-xs font-medium text-rose-500"},ee=["disabled"],se={class:"text-center text-sm text-slate-500"},ae={__name:"ResetPassword",props:{email:{type:String,default:""}},setup(x){const M=a(x.email||new URLSearchParams(window.location.search).get("email")||""),n=a(""),f=a(""),d=a(!1),u=a(!1),l=a(!1),p=a(""),t=a({}),N=async m=>{if(m.preventDefault(),l.value=!0,p.value="",t.value={},!n.value){t.value.newPassword="Password is required",l.value=!1;return}if(n.value.length<8){t.value.newPassword="Password must be at least 8 characters",l.value=!1;return}if(n.value!==f.value){t.value.confirmPassword="Passwords do not match",l.value=!1;return}try{await q.post("/reset-password",{email:M.value,newPassword:n.value,confirmPassword:f.value}),z.visit(route("login"))}catch(e){p.value=e.response?.data?.message||"Something went wrong. Please try again later.",e.response?.data?.errors&&(t.value=e.response.data.errors)}finally{l.value=!1}};return(m,e)=>(o(),i(D,null,[v(r(B),{title:"Reset Password"}),s("div",A,[e[15]||(e[15]=s("div",{class:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(59,130,246,0.2),_transparent_60%)]"},null,-1)),e[16]||(e[16]=s("div",{class:"absolute inset-0 bg-[radial-gradient(circle_at_bottom,_rgba(125,211,252,0.18),_transparent_55%)]"},null,-1)),s("div",F,[s("div",L,[e[7]||(e[7]=s("div",{class:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1523580846011-d3a5bc25702b?auto=format&fit=crop&w=900&q=80')] bg-cover bg-center opacity-20"},null,-1)),e[8]||(e[8]=s("div",{class:"absolute inset-0 bg-gradient-to-b from-blue-600/80 via-blue-600/70 to-indigo-700/85"},null,-1)),s("div",U,[v(r(k),{href:m.route("welcome"),class:"inline-flex items-center justify-center rounded-full border border-white/40 px-4 py-1 text-xs font-semibold uppercase tracking-[0.45em] text-white/80 transition hover:border-white hover:text-white"},{default:P(()=>[...e[4]||(e[4]=[g(" Rich English ",-1)])]),_:1},8,["href"]),e[5]||(e[5]=s("div",{class:"space-y-5"},[s("h2",{class:"text-3xl font-semibold leading-tight"}," Create a strong, secure password. "),s("p",{class:"text-white/75"}," Choose a password that's at least 8 characters long and includes a mix of letters, numbers, and symbols for better security. ")],-1))]),s("div",$,[e[6]||(e[6]=s("p",null,"Need a hand? Email us at support@richenglish.com",-1)),s("p",null,"Â© "+w(new Date().getFullYear())+" Rich English",1)])]),s("div",H,[s("div",Z,[e[14]||(e[14]=s("div",{class:"flex flex-col items-center text-center"},[s("div",{class:"flex h-12 w-12 items-center justify-center rounded-full bg-blue-100 text-lg font-semibold text-blue-600"}," RE "),s("h1",{class:"mt-6 text-3xl font-semibold text-slate-900"}," Reset your password "),s("p",{class:"mt-2 text-sm text-slate-500"}," Enter your new password below to secure your account. ")],-1)),s("form",{onSubmit:E(N,["prevent"]),class:"mt-10 space-y-8"},[p.value?(o(),i("div",T,w(p.value),1)):h("",!0),s("div",Y,[s("div",null,[e[9]||(e[9]=s("label",{for:"newPassword",class:"text-sm font-medium text-slate-600"}," New Password ",-1)),s("div",G,[_(s("input",{id:"newPassword",type:d.value?"text":"password","onUpdate:modelValue":e[0]||(e[0]=c=>n.value=c),placeholder:"Enter new password",autocomplete:"new-password",required:"",class:S(["w-full rounded-2xl border border-slate-200 bg-white px-5 py-3 pr-14 text-slate-900 shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 placeholder:text-slate-400",{"border-red-500 focus:border-red-500 focus:ring-red-200":t.value.newPassword}])},null,10,I),[[C,n.value]]),s("button",{type:"button",onClick:e[1]||(e[1]=c=>d.value=!d.value),class:"absolute inset-y-0 right-3 flex items-center rounded-full p-2 text-slate-400 transition hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-200","aria-label":d.value?"Hide password":"Show password"},[d.value?(o(),b(r(R),{key:0,class:"h-5 w-5"})):(o(),b(r(j),{key:1,class:"h-5 w-5"}))],8,J)]),t.value.newPassword?(o(),i("p",K,w(t.value.newPassword),1)):h("",!0)]),s("div",null,[e[10]||(e[10]=s("label",{for:"confirmPassword",class:"text-sm font-medium text-slate-600"}," Confirm Password ",-1)),s("div",O,[_(s("input",{id:"confirmPassword",type:u.value?"text":"password","onUpdate:modelValue":e[2]||(e[2]=c=>f.value=c),placeholder:"Confirm new password",autocomplete:"new-password",required:"",class:S(["w-full rounded-2xl border border-slate-200 bg-white px-5 py-3 pr-14 text-slate-900 shadow-sm transition focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 placeholder:text-slate-400",{"border-red-500 focus:border-red-500 focus:ring-red-200":t.value.confirmPassword}])},null,10,Q),[[C,f.value]]),s("button",{type:"button",onClick:e[3]||(e[3]=c=>u.value=!u.value),class:"absolute inset-y-0 right-3 flex items-center rounded-full p-2 text-slate-400 transition hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-200","aria-label":u.value?"Hide password":"Show password"},[u.value?(o(),b(r(R),{key:0,class:"h-5 w-5"})):(o(),b(r(j),{key:1,class:"h-5 w-5"}))],8,W)]),t.value.confirmPassword?(o(),i("p",X,w(t.value.confirmPassword),1)):h("",!0)])]),e[13]||(e[13]=V('<div class="rounded-2xl bg-blue-50 p-4"><p class="text-xs font-medium text-slate-600 mb-2"> Password must contain: </p><ul class="space-y-1 text-xs text-slate-500"><li class="flex items-center gap-2"><span class="h-1 w-1 rounded-full bg-blue-600"></span> At least 8 characters </li><li class="flex items-center gap-2"><span class="h-1 w-1 rounded-full bg-blue-600"></span> Mix of letters, numbers, and symbols (recommended) </li></ul></div>',1)),s("button",{type:"submit",disabled:l.value,class:"inline-flex w-full items-center justify-center rounded-2xl bg-blue-600 px-6 py-3 text-base font-semibold text-white shadow-lg shadow-blue-600/30 transition hover:bg-blue-500 focus:outline-none focus:ring-4 focus:ring-blue-200 disabled:cursor-not-allowed disabled:bg-blue-300"},w(l.value?"Resetting...":"Reset Password"),9,ee),s("p",se,[e[12]||(e[12]=g(" Remember your password? ",-1)),v(r(k),{href:m.route("login"),class:"ml-2 font-semibold text-blue-600 transition hover:text-blue-500"},{default:P(()=>[...e[11]||(e[11]=[g(" Sign in ",-1)])]),_:1},8,["href"])])],32)])])])])],64))}};export{ae as default};
