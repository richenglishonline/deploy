import{m as D,p as g,r as x,o as S,c as o,a as r,u as n,h as k,w as y,b as t,d as m,e as l,F as p,t as a,f as v,g as A}from"./app-Ct4hsfzr.js";import{r as N,_ as T}from"./AuthenticatedLayout-D745UfWq.js";import{a as $}from"./api-g2UYsWvT.js";import{r as V}from"./PhotoIcon-DaN6h6Ks.js";import{r as B}from"./ArrowLeftIcon-DdjLQmXZ.js";const C={class:"flex items-center gap-4"},E={class:"text-sm text-gray-500"},I={class:"py-10"},F={class:"mx-auto max-w-7xl space-y-6 px-4 sm:px-6 lg:px-8"},L={key:0,class:"text-center py-12 text-gray-500"},M={class:"rounded-lg border border-gray-200 bg-white shadow-sm"},R={class:"px-6 py-4"},q={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},H={class:"mt-1 text-sm text-gray-900"},P={class:"mt-1 text-sm text-gray-900"},U={class:"mt-1 text-sm text-gray-900"},j={class:"mt-1 text-sm text-gray-900"},z={class:"mt-1 text-sm text-gray-900"},G={class:"mt-1 text-sm text-gray-900"},J={class:"mt-1 text-sm text-gray-900"},K={class:"mt-1 text-sm text-gray-900"},O={class:"sm:col-span-2 lg:col-span-3"},Q={class:"mt-1 text-sm text-gray-900"},W={key:0,class:"rounded-lg border border-gray-200 bg-white shadow-sm"},X={class:"border-b border-gray-200 px-6 py-4"},Y={class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},Z={key:1,class:"rounded-lg border border-gray-200 bg-white shadow-sm"},tt={class:"border-b border-gray-200 px-6 py-4"},et={class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},lt={__name:"Show",props:{attendanceId:{type:[String,Number],required:!0}},setup(f){const h=f,_=D(),b=g(()=>_.props.auth?.user?.role??"teacher");g(()=>["admin","super-admin"].includes(b.value));const i=x(!1),s=x(null),w=async()=>{i.value=!0;try{const{data:d}=await $.get(`/attendance/${h.attendanceId}`);s.value=d}catch(d){console.error("Error fetching attendance:",d)}finally{i.value=!1}},u=d=>d?new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"—",c=d=>d??"—";return S(w),(d,e)=>(l(),o(p,null,[r(n(k),{title:(s.value,"Attendance Details")},null,8,["title"]),r(T,null,{header:y(()=>[t("div",C,[t("button",{onClick:e[0]||(e[0]=st=>n(A).visit(d.route("attendance.index"))),class:"rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600"},[r(n(B),{class:"h-5 w-5"})]),t("div",null,[e[1]||(e[1]=t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Attendance Details",-1)),t("p",E,a(u(s.value?.date)),1)])])]),default:y(()=>[t("div",I,[t("div",F,[i.value&&!s.value?(l(),o("div",L,"Loading attendance information...")):s.value?(l(),o(p,{key:1},[t("div",M,[e[11]||(e[11]=t("div",{class:"border-b border-gray-200 px-6 py-4"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Attendance Information")],-1)),t("div",R,[t("dl",q,[t("div",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500"},"Date",-1)),t("dd",H,a(u(s.value.date)),1)]),t("div",null,[e[3]||(e[3]=t("dt",{class:"text-sm font-medium text-gray-500"},"Teacher",-1)),t("dd",P,a(s.value.teacher?.name??"—"),1)]),t("div",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500"},"Student",-1)),t("dd",U,a(s.value.student?.name??"—"),1)]),t("div",null,[e[5]||(e[5]=t("dt",{class:"text-sm font-medium text-gray-500"},"Duration",-1)),t("dd",j,a(s.value.duration??"—")+" min",1)]),t("div",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500"},"Minutes Attended",-1)),t("dd",z,a(s.value.minutes_attended??"—")+" min",1)]),t("div",null,[e[7]||(e[7]=t("dt",{class:"text-sm font-medium text-gray-500"},"Hours",-1)),t("dd",G,a(s.value.hours??"—")+" hrs",1)]),t("div",null,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-gray-500"},"Start Time",-1)),t("dd",J,a(c(s.value.start_time)),1)]),t("div",null,[e[9]||(e[9]=t("dt",{class:"text-sm font-medium text-gray-500"},"End Time",-1)),t("dd",K,a(c(s.value.end_time)),1)]),t("div",O,[e[10]||(e[10]=t("dt",{class:"text-sm font-medium text-gray-500"},"Notes",-1)),t("dd",Q,a(s.value.notes??"—"),1)])])])]),s.value.screenshots&&s.value.screenshots.length>0?(l(),o("div",W,[t("div",X,[t("h3",Y,[r(n(V),{class:"h-5 w-5"}),v("Screenshots ("+a(s.value.screenshots.length)+")",1)])]),e[12]||(e[12]=t("div",{class:"px-6 py-4 text-center py-8 text-gray-500"},"Screenshots gallery - to be implemented",-1))])):m("",!0),s.value.recording?(l(),o("div",Z,[t("div",tt,[t("h3",et,[r(n(N),{class:"h-5 w-5"}),e[13]||(e[13]=v("Recording",-1))])]),e[14]||(e[14]=t("div",{class:"px-6 py-4 text-center py-8 text-gray-500"},"Recording player - to be implemented",-1))])):m("",!0)],64)):m("",!0)])])]),_:1})],64))}};export{lt as default};
