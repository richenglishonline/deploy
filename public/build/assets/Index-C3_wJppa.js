import{r as p,i as w,o as k,c as r,a as u,u as c,h as C,w as v,b as e,d as f,l as $,s as B,e as d,F as x,j as P,g as h,t as g,k as V,f as F}from"./app-Ct4hsfzr.js";import{a as M,c as N,_ as T}from"./AuthenticatedLayout-D745UfWq.js";import{a as j}from"./api-g2UYsWvT.js";import{_ as A}from"./Button-oQerMwbE.js";const D={class:"flex items-center justify-between"},E=["disabled"],R={class:"py-10"},S={class:"mx-auto max-w-7xl space-y-6 px-4 sm:px-6 lg:px-8"},z={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm"},I={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},L={class:"flex items-end gap-3 sm:col-span-2 lg:col-span-3"},U=["disabled"],q=["disabled"],G={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},H=["onClick"],J={class:"flex items-start gap-4"},K={class:"flex-shrink-0"},O={class:"flex-1 min-w-0"},Q={class:"text-lg font-semibold text-gray-900 mb-2"},W={key:0,class:"text-sm text-gray-500 truncate"},X={class:"mt-4"},Y={key:0,class:"text-center py-12"},Z={key:1,class:"flex flex-col items-center justify-between gap-4 border-t border-gray-200 px-6 py-4 text-sm text-gray-600 sm:flex-row"},ee={class:"flex items-center gap-2"},se=["disabled"],te=["disabled"],de={__name:"Index",setup(oe){const l=p(!1),m=p([]),t=p(null),a=w({title:"",page:1,limit:20}),n=async()=>{l.value=!0;try{const{data:o}=await j.get("/books",{params:a});m.value=o.books,t.value=o.pagination}catch(o){console.error("Error fetching books:",o)}finally{l.value=!1}},b=o=>{t.value&&(o<1||o>t.value.totalPages||(a.page=o,n()))},y=()=>{a.title="",a.page=1,n()};return k(n),(o,s)=>(d(),r(x,null,[u(c(C),{title:"Curriculum Access"}),u(T,null,{header:v(()=>[e("div",D,[s[3]||(s[3]=e("div",null,[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Curriculum Access "),e("p",{class:"text-sm text-gray-500"}," Manage curriculum resources and access control. ")],-1)),e("button",{onClick:n,class:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",disabled:l.value}," Refresh ",8,E)])]),default:v(()=>[e("div",R,[e("div",S,[e("div",z,[e("form",I,[e("div",null,[s[4]||(s[4]=e("label",{class:"block text-sm font-medium text-gray-700"}," Book Title ",-1)),$(e("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>a.title=i),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Search by title"},null,512),[[B,a.title]])]),e("div",L,[e("button",{type:"button",onClick:n,class:"flex-1 rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",disabled:l.value}," Apply Filters ",8,U),e("button",{type:"button",onClick:y,class:"flex-1 rounded-md border border-gray-300 px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50",disabled:l.value}," Reset ",8,q)])])]),e("div",G,[(d(!0),r(x,null,P(m.value,i=>(d(),r("div",{key:i.id,class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:_=>c(h).visit(o.route("books.show",i.id))},[e("div",J,[e("div",K,[u(c(M),{class:"h-8 w-8 text-indigo-600"})]),e("div",O,[e("h3",Q,g(i.title),1),i.filename?(d(),r("p",W,g(i.filename),1)):f("",!0),e("div",X,[u(A,{onClick:V(_=>c(h).visit(o.route("books.show",i.id)),["stop"]),variant:"outline",size:"sm"},{default:v(()=>[...s[5]||(s[5]=[F(" View Details ",-1)])]),_:1},8,["onClick"])])])])],8,H))),128))]),!l.value&&m.value.length===0?(d(),r("div",Y,[u(c(N),{class:"mx-auto h-12 w-12 text-gray-400"}),s[6]||(s[6]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No curriculum resources",-1)),s[7]||(s[7]=e("p",{class:"mt-1 text-sm text-gray-500"},"Books will appear here once uploaded.",-1))])):f("",!0),t.value?(d(),r("div",Z,[e("div",null," Page "+g(t.value.page)+" of "+g(t.value.totalPages??1),1),e("div",ee,[e("button",{onClick:s[1]||(s[1]=i=>b(t.value.page-1)),class:"rounded-md border border-gray-300 px-3 py-1 hover:bg-gray-50",disabled:l.value||t.value.page===1}," Previous ",8,se),e("button",{onClick:s[2]||(s[2]=i=>b(t.value.page+1)),class:"rounded-md border border-gray-300 px-3 py-1 hover:bg-gray-50",disabled:l.value||t.value.page===t.value.totalPages}," Next ",8,te)])])):f("",!0)])])]),_:1})],64))}};export{de as default};
