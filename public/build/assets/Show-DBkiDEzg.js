import{u as I,j as _,r as y,o as N,c as a,a as r,b as d,h as U,w as m,d as e,g as l,k as i,f as u,t as o,i as c,F as A}from"./app-BiSPCPuo.js";import{f as b,a as F,_ as L}from"./AuthenticatedLayout-57Q77M7z.js";import{a as k}from"./api-BtR7IrG5.js";import{_ as v}from"./Button-cwC7HEN4.js";import{r as T}from"./ArrowLeftIcon-B1vgtuud.js";const j={class:"flex items-center justify-between"},E={class:"flex items-center gap-4"},G={key:0,class:"flex items-center gap-2"},z={class:"py-10"},O={class:"mx-auto max-w-7xl space-y-6 px-4 sm:px-6 lg:px-8"},q={key:0,class:"text-center py-12"},M={key:1,class:"space-y-6"},P={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm"},H={class:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2"},J={key:0,class:"w-full"},K=["src","alt"],Q={key:1,class:"text-center py-12 text-gray-500"},R={key:0,class:"mt-2"},W=["href"],X={class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm"},Y={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Z={class:"mt-1 text-sm text-gray-900"},ee={class:"mt-1 text-sm text-gray-900"},te={key:0,class:"text-gray-500"},se={class:"mt-1 text-sm text-gray-900"},ae={key:0},le={class:"mt-1 text-sm text-gray-900"},oe=["href"],ne={key:0,class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm"},re={class:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2"},de={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},ie={class:"mt-1 text-sm text-gray-900"},ue={key:0,class:"text-gray-500"},me={class:"mt-1 text-sm text-gray-900"},ce={key:0,class:"text-gray-500"},ge={class:"mt-1 text-sm text-gray-900"},ve={key:0},xe={class:"mt-1 text-sm text-gray-900"},he={class:"mt-4"},ye={key:1,class:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm"},fe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},pe={class:"mt-1 text-sm text-gray-900"},_e={class:"mt-1 text-sm text-gray-900"},be={class:"mt-4"},ke={key:2,class:"text-center py-12"},Ve={__name:"Show",props:{screenshotId:{type:[String,Number],required:!0}},setup(w){const f=w,S=I(),D=_(()=>S.props.auth?.user?.role??"teacher"),$=_(()=>["super-admin","admin"].includes(D.value)),x=y(!0),s=y(null),g=y(!1),C=async()=>{x.value=!0;try{const{data:n}=await k.get(`/screen-shot/${f.screenshotId}`);s.value=n}catch(n){console.error("Error fetching screenshot:",n)}finally{x.value=!1}},V=async()=>{if(confirm("Are you sure you want to delete this screenshot? This action cannot be undone.")){g.value=!0;try{await k.delete(`/screen-shot/${f.screenshotId}`),c.visit(route("screenshots.index"))}catch(n){console.error("Error deleting screenshot:",n),alert("Failed to delete screenshot")}finally{g.value=!1}}},p=()=>s.value?s.value.drive?.link?s.value.drive.link:s.value.path?`/storage/${s.value.path}`:null:null,B=n=>n?new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"—";return N(C),(n,t)=>(l(),a(A,null,[r(d(U),{title:"Screenshot Details"}),r(L,null,{header:m(()=>[e("div",j,[e("div",E,[e("button",{onClick:t[0]||(t[0]=h=>d(c).visit(n.route("screenshots.index"))),class:"rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600"},[r(d(T),{class:"h-5 w-5"})]),t[4]||(t[4]=e("div",null,[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Screenshot Details "),e("p",{class:"text-sm text-gray-500"}," View and manage screenshot information. ")],-1))]),$.value?(l(),a("div",G,[r(v,{onClick:V,variant:"destructive",disabled:g.value},{default:m(()=>[u(o(g.value?"Deleting...":"Delete Screenshot"),1)]),_:1},8,["disabled"])])):i("",!0)])]),default:m(()=>[e("div",z,[e("div",O,[x.value?(l(),a("div",q,[...t[5]||(t[5]=[e("p",{class:"text-gray-500"},"Loading screenshot details...",-1)])])):s.value?(l(),a("div",M,[e("div",P,[e("h3",H,[r(d(b),{class:"h-5 w-5"}),t[6]||(t[6]=u(" Screenshot ",-1))]),p()?(l(),a("div",J,[e("img",{src:p(),alt:s.value.filename,class:"w-full rounded-lg shadow-lg max-h-[600px] object-contain mx-auto"},null,8,K)])):(l(),a("div",Q,[r(d(b),{class:"mx-auto h-12 w-12 text-gray-400 mb-4"}),t[7]||(t[7]=e("p",null,"Screenshot file not available.",-1)),s.value.drive?.link?(l(),a("p",R,[e("a",{href:s.value.drive.link,target:"_blank",class:"text-blue-600 hover:text-blue-800"}," Open in Google Drive ",8,W)])):i("",!0)]))]),e("div",X,[t[12]||(t[12]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Screenshot Information",-1)),e("dl",Y,[e("div",null,[t[8]||(t[8]=e("dt",{class:"text-sm font-medium text-gray-500"},"Filename",-1)),e("dd",Z,o(s.value.filename??"—"),1)]),e("div",null,[t[9]||(t[9]=e("dt",{class:"text-sm font-medium text-gray-500"},"Uploaded By",-1)),e("dd",ee,[u(o(s.value.uploader?.name??"Unknown")+" ",1),s.value.uploader?.email?(l(),a("span",te," ("+o(s.value.uploader.email)+") ",1)):i("",!0)])]),e("div",null,[t[10]||(t[10]=e("dt",{class:"text-sm font-medium text-gray-500"},"Uploaded At",-1)),e("dd",se,o(B(s.value.created_at)),1)]),s.value.drive?.link?(l(),a("div",ae,[t[11]||(t[11]=e("dt",{class:"text-sm font-medium text-gray-500"},"Google Drive Link",-1)),e("dd",le,[e("a",{href:s.value.drive.link,target:"_blank",class:"text-blue-600 hover:text-blue-800"}," Open in Google Drive ",8,oe)])])):i("",!0)])]),s.value.classSchedule?(l(),a("div",ne,[e("h3",re,[r(d(F),{class:"h-5 w-5"}),t[13]||(t[13]=u(" Class Information ",-1))]),e("dl",de,[e("div",null,[t[14]||(t[14]=e("dt",{class:"text-sm font-medium text-gray-500"},"Teacher",-1)),e("dd",ie,[u(o(s.value.classSchedule.teacher?.name??"—")+" ",1),s.value.classSchedule.teacher?.email?(l(),a("span",ue," ("+o(s.value.classSchedule.teacher.email)+") ",1)):i("",!0)])]),e("div",null,[t[15]||(t[15]=e("dt",{class:"text-sm font-medium text-gray-500"},"Student",-1)),e("dd",me,[u(o(s.value.classSchedule.student?.name??"—")+" ",1),s.value.classSchedule.student?.email?(l(),a("span",ce," ("+o(s.value.classSchedule.student.email)+") ",1)):i("",!0)])]),e("div",null,[t[16]||(t[16]=e("dt",{class:"text-sm font-medium text-gray-500"},"Date & Time",-1)),e("dd",ge,o(s.value.classSchedule.start_date)+" "+o(s.value.classSchedule.start_time)+" - "+o(s.value.classSchedule.end_time),1)]),s.value.classSchedule.book?(l(),a("div",ve,[t[17]||(t[17]=e("dt",{class:"text-sm font-medium text-gray-500"},"Book",-1)),e("dd",xe,o(s.value.classSchedule.book.title),1)])):i("",!0)]),e("div",he,[r(v,{onClick:t[1]||(t[1]=h=>d(c).visit(n.route("classes.show",s.value.classSchedule.id))),variant:"outline",size:"sm"},{default:m(()=>[...t[18]||(t[18]=[u(" View Class Details ",-1)])]),_:1})])])):i("",!0),s.value.attendance?(l(),a("div",ye,[t[22]||(t[22]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Attendance Information",-1)),e("dl",fe,[e("div",null,[t[19]||(t[19]=e("dt",{class:"text-sm font-medium text-gray-500"},"Date",-1)),e("dd",pe,o(s.value.attendance.date??"—"),1)]),e("div",null,[t[20]||(t[20]=e("dt",{class:"text-sm font-medium text-gray-500"},"Duration",-1)),e("dd",_e,o(s.value.attendance.duration??"—")+" minutes ",1)])]),e("div",be,[r(v,{onClick:t[2]||(t[2]=h=>d(c).visit(n.route("attendance.show",s.value.attendance.id))),variant:"outline",size:"sm"},{default:m(()=>[...t[21]||(t[21]=[u(" View Attendance Details ",-1)])]),_:1})])])):i("",!0)])):(l(),a("div",ke,[t[24]||(t[24]=e("p",{class:"text-gray-500"},"Screenshot not found.",-1)),r(v,{onClick:t[3]||(t[3]=h=>d(c).visit(n.route("screenshots.index"))),variant:"outline",class:"mt-4"},{default:m(()=>[...t[23]||(t[23]=[u(" Back to List ",-1)])]),_:1})]))])])]),_:1})],64))}};export{Ve as default};
