import{r as b,o as S,c as l,b as n,u as d,h as V,w as p,d as t,e as c,f as i,F as u,t as r,n as g,g as v,i as y}from"./app-CcrcFIhY.js";import{a as N,_ as T}from"./AuthenticatedLayout-DYFnkQnP.js";import{a as j}from"./api-D-OI4ttb.js";import{_ as B}from"./Button-C09cMFQW.js";import{r as w}from"./VideoCameraIcon-DjmtUxRs.js";import{r as k}from"./PhotoIcon-ChUvlHUL.js";import{r as L}from"./ArrowLeftIcon-Qca1mNsY.js";const U={class:"flex items-center gap-4"},E={class:"text-sm text-gray-500"},I={class:"py-10"},A={class:"mx-auto max-w-7xl space-y-6 px-4 sm:px-6 lg:px-8"},F={key:0,class:"text-center py-12 text-gray-500"},M={class:"rounded-lg border border-gray-200 bg-white shadow-sm"},R={class:"px-6 py-4"},q={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},z={class:"mt-1 text-sm text-gray-900"},G={class:"mt-1 text-sm text-gray-900"},H={class:"mt-1 text-sm text-gray-900"},J={class:"mt-1 text-sm text-gray-900"},K={class:"mt-1 text-sm text-gray-900"},O={class:"mt-1 text-sm text-gray-900"},P={class:"mt-1 text-sm text-gray-900"},Q={key:0,class:"rounded-lg border border-gray-200 bg-white shadow-sm"},W={class:"border-b border-gray-200 px-6 py-4"},X={class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},Y={class:"px-6 py-4"},Z={class:"overflow-x-auto"},tt={class:"min-w-full divide-y divide-gray-200"},et={class:"divide-y divide-gray-200 bg-white"},st=["onClick"],at={class:"px-4 py-3 text-sm text-gray-900"},ot={class:"px-4 py-3 text-sm text-gray-900"},rt={class:"px-4 py-3 text-sm text-gray-900"},lt={key:1,class:"rounded-lg border border-gray-200 bg-white shadow-sm"},it={class:"border-b border-gray-200 px-6 py-4"},dt={class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},nt={class:"px-6 py-4"},ct={class:"space-y-4"},ut={class:"flex items-center gap-4"},gt={class:"font-medium text-gray-900"},mt={class:"text-sm text-gray-500"},yt={key:0},xt={key:2,class:"rounded-lg border border-gray-200 bg-white shadow-sm"},pt={class:"border-b border-gray-200 px-6 py-4"},vt={class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},ht={class:"px-6 py-4"},_t={class:"grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-4"},ft=["onClick"],bt=["src","alt"],wt={key:1,class:"flex items-center justify-center h-full text-gray-400"},Tt={__name:"Show",props:{classId:{type:[String,Number],required:!0}},setup(C){const D=C,x=b(!1),s=b(null),$=async()=>{x.value=!0;try{const{data:a}=await j.get(`/class/${D.classId}`);s.value=a}catch(a){console.error("Error fetching class:",a)}finally{x.value=!1}},m=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"—",h=a=>a??"—",_=a=>a?a.drive?.link?a.drive.link:a.path?`/storage/${a.path}`:null:null;return S($),(a,e)=>(i(),l(u,null,[n(d(V),{title:(s.value,"Class Details")},null,8,["title"]),n(T,null,{header:p(()=>[t("div",U,[t("button",{onClick:e[0]||(e[0]=o=>d(y).visit(a.route("classes.index"))),class:"rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600"},[n(d(L),{class:"h-5 w-5"})]),t("div",null,[e[1]||(e[1]=t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"},"Class Details",-1)),t("p",E,r(s.value?.type??"Loading..."),1)])])]),default:p(()=>[t("div",I,[t("div",A,[x.value&&!s.value?(i(),l("div",F,"Loading class information...")):s.value?(i(),l(u,{key:1},[t("div",M,[e[9]||(e[9]=t("div",{class:"border-b border-gray-200 px-6 py-4"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Class Information")],-1)),t("div",R,[t("dl",q,[t("div",null,[e[2]||(e[2]=t("dt",{class:"text-sm font-medium text-gray-500"},"Type",-1)),t("dd",z,r(s.value.type??"—"),1)]),t("div",null,[e[3]||(e[3]=t("dt",{class:"text-sm font-medium text-gray-500"},"Teacher",-1)),t("dd",G,r(s.value.teacher?.name??"—"),1)]),t("div",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500"},"Student",-1)),t("dd",H,r(s.value.student?.name??"—"),1)]),t("div",null,[e[5]||(e[5]=t("dt",{class:"text-sm font-medium text-gray-500"},"Start Date",-1)),t("dd",J,r(m(s.value.start_date)),1)]),t("div",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500"},"End Date",-1)),t("dd",K,r(m(s.value.end_date)),1)]),t("div",null,[e[7]||(e[7]=t("dt",{class:"text-sm font-medium text-gray-500"},"Time",-1)),t("dd",O,r(h(s.value.start_time))+" - "+r(h(s.value.end_time)),1)]),t("div",null,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-gray-500"},"Book",-1)),t("dd",P,r(s.value.book?.title??"—"),1)])])])]),s.value.attendances&&s.value.attendances.length>0?(i(),l("div",Q,[t("div",W,[t("h3",X,[n(d(N),{class:"h-5 w-5"}),g("Attendance ("+r(s.value.attendances.length)+")",1)])]),t("div",Y,[t("div",Z,[t("table",tt,[e[10]||(e[10]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Date"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Duration"),t("th",{class:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500"},"Minutes Attended")])],-1)),t("tbody",et,[(i(!0),l(u,null,v(s.value.attendances,o=>(i(),l("tr",{key:o.id,class:"hover:bg-gray-50 cursor-pointer",onClick:f=>d(y).visit(a.route("attendance.show",o.id))},[t("td",at,r(m(o.date)),1),t("td",ot,r(o.duration??"—")+" min",1),t("td",rt,r(o.minutes_attended??"—")+" min",1)],8,st))),128))])])])])])):c("",!0),s.value.recordings&&s.value.recordings.length>0?(i(),l("div",lt,[t("div",it,[t("h3",dt,[n(d(w),{class:"h-5 w-5"}),g(" Recordings ("+r(s.value.recordings.length)+") ",1)])]),t("div",nt,[t("div",ct,[(i(!0),l(u,null,v(s.value.recordings,o=>(i(),l("div",{key:o.id,class:"flex items-center justify-between rounded-lg border border-gray-200 p-4 hover:bg-gray-50 transition-colors"},[t("div",ut,[n(d(w),{class:"h-8 w-8 text-gray-400"}),t("div",null,[t("div",gt,r(o.filename??"Untitled Recording"),1),t("div",mt,[g(" Uploaded "+r(m(o.created_at))+" ",1),o.uploader?(i(),l("span",yt," by "+r(o.uploader.name),1)):c("",!0)])])]),n(B,{onClick:f=>d(y).visit(a.route("recordings.show",o.id)),variant:"outline",size:"sm"},{default:p(()=>[...e[11]||(e[11]=[g(" View ",-1)])]),_:1},8,["onClick"])]))),128))])])])):c("",!0),s.value.screenshots&&s.value.screenshots.length>0?(i(),l("div",xt,[t("div",pt,[t("h3",vt,[n(d(k),{class:"h-5 w-5"}),g(" Screenshots ("+r(s.value.screenshots.length)+") ",1)])]),t("div",ht,[t("div",_t,[(i(!0),l(u,null,v(s.value.screenshots,o=>(i(),l("div",{key:o.id,class:"group relative aspect-video overflow-hidden rounded-lg border border-gray-200 bg-gray-100 cursor-pointer hover:shadow-md transition-shadow",onClick:f=>d(y).visit(a.route("screenshots.show",o.id))},[_(o)?(i(),l("img",{key:0,src:_(o),alt:o.filename,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"},null,8,bt)):(i(),l("div",wt,[n(d(k),{class:"h-8 w-8"})])),e[12]||(e[12]=t("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-opacity flex items-center justify-center"},[t("span",{class:"text-white text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity"},"View")],-1))],8,ft))),128))])])])):c("",!0)],64)):c("",!0)])])]),_:1})],64))}};export{Tt as default};
