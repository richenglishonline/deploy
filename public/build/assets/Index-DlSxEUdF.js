import{c as m,d as e,g as i,r as w,j as T,K as j,k as h,y as C,t as k,I as V,a as l,f as b,b as c,u as F,m as M,o as z,h as q,w as u,p as $,E as B,e as O,F as Z}from"./app-Cmmq__Tw.js";import{s as A,m as H,l as I,_ as R}from"./AuthenticatedLayout-B2GbnFPi.js";import{_ as S}from"./Card-CcoMGp7w.js";import{_ as E}from"./Button-D72KtQR-.js";import{_ as D}from"./Badge-BZFBi4LI.js";import{a as U}from"./api-BS-ONIJM.js";import{r as Y}from"./CheckCircleIcon-Cn5KpQJI.js";function L(n,f){return i(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})])}function P(n,f){return i(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"})])}function G(n,f){return i(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})])}const K={class:"space-y-2"},J=["for"],Q={class:"relative"},W=["id","type","value","placeholder","required","disabled"],X={key:0,class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},ee={key:1,class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},te={key:1,class:"text-xs text-gray-500"},se={key:2,class:"text-xs text-red-600 flex items-center gap-1"},x={__name:"FormField",props:{label:{type:String,default:""},modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},hint:{type:String,default:""},error:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:!0},rules:{type:Array,default:()=>[]}},emits:["update:modelValue","validate","blur"],setup(n,{emit:f}){const g=()=>"field-"+Math.random().toString(36).substr(2,9),d=n,s=f,p=w(g()),_=w(!1),y=w(""),o=T(()=>!!(d.error||y.value)),t=()=>{if(!d.rules||d.rules.length===0)return y.value="",!0;for(const r of d.rules){const v=typeof r=="function"?r(d.modelValue):r;if(v!==!0)return y.value=typeof v=="string"?v:"Validation failed",s("validate",!1),!1}return y.value="",s("validate",!0),!0},a=()=>{_.value=!0,d.validateOnBlur&&t(),s("blur")};return j(()=>d.modelValue,()=>{_.value&&d.validateOnBlur&&t()}),(r,v)=>(i(),m("div",K,[n.label?(i(),m("label",{key:0,for:p.value,class:C(["block text-sm font-medium text-gray-700",n.required?"after:content-['*'] after:ml-0.5 after:text-red-500":""])},k(n.label),11,J)):h("",!0),e("div",Q,[V(r.$slots,"default",{id:p.value,error:n.error,hasError:o.value},()=>[e("input",{id:p.value,type:n.type,value:n.modelValue,placeholder:n.placeholder,required:n.required,disabled:n.disabled,class:C(["block w-full rounded-lg border-0 bg-white py-2.5 px-4 text-sm text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 transition-all duration-200",o.value?"ring-red-300 focus:ring-red-500":"",n.disabled?"bg-gray-50 text-gray-500 cursor-not-allowed":"",r.$slots.prefix?"pl-10":"",r.$slots.suffix?"pr-10":""]),onInput:v[0]||(v[0]=N=>r.$emit("update:modelValue",N.target.value)),onBlur:a},null,42,W)]),r.$slots.prefix?(i(),m("div",X,[V(r.$slots,"prefix")])):h("",!0),r.$slots.suffix?(i(),m("div",ee,[V(r.$slots,"suffix")])):h("",!0)]),n.hint&&!o.value?(i(),m("p",te,k(n.hint),1)):h("",!0),o.value?(i(),m("p",se,[l(c(L),{class:"h-4 w-4 flex-shrink-0"}),b(" "+k(n.error),1)])):h("",!0)]))}},le={class:"space-y-6 pb-8"},ae={class:"mb-6 flex items-center gap-3"},ne={class:"rounded-lg bg-blue-50 p-2"},oe={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},re={class:"mb-6 flex items-center gap-3"},ie={class:"rounded-lg bg-purple-50 p-2"},de={class:"space-y-4"},ue={class:"flex items-center gap-3"},me={class:"mb-6 flex items-center gap-3"},ce={class:"rounded-lg bg-green-50 p-2"},fe={class:"space-y-4"},ge={class:"flex items-center gap-3"},pe={class:"flex items-center gap-3"},ye={class:"mt-6"},ve={class:"mb-6 flex items-center gap-3"},xe={class:"rounded-lg bg-red-50 p-2"},he={class:"space-y-4"},be={class:"flex items-center justify-between rounded-lg border border-gray-200 p-4"},we={class:"flex items-center justify-between rounded-lg border border-gray-200 p-4"},_e={class:"flex justify-end gap-3"},Ce={__name:"Index",setup(n){F();const f=w(!1),g=w(!1),d=w({}),s=M({site_name:"",site_email:"",site_url:"",timezone:"UTC",date_format:"Y-m-d",currency:"USD",maintenance_mode:!1,email_notifications:!0,system_notifications:!0}),p=async()=>{f.value=!0;try{const{data:o}=await U.get("/settings");Object.assign(s,o.settings||o||{}),d.value=o.settings||o||{}}catch(o){console.error("Error fetching settings:",o)}finally{f.value=!1}},_=async()=>{g.value=!0;try{await U.put("/settings",s),alert("Settings saved successfully"),await p()}catch(o){console.error("Error saving settings:",o),alert("Failed to save settings")}finally{g.value=!1}},y=async()=>{try{await U.post("/settings/test-email"),alert("Test email sent successfully")}catch(o){console.error("Error sending test email:",o),alert("Failed to send test email")}};return z(()=>{p()}),(o,t)=>(i(),m(Z,null,[l(c(q),{title:"System Settings"}),l(R,null,{default:u(()=>[e("div",le,[t[22]||(t[22]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"System Settings"),e("p",{class:"mt-1 text-sm text-gray-500"}," Configure global system settings ")],-1)),l(S,{class:"p-6"},{default:u(()=>[e("div",ae,[e("div",ne,[l(c(A),{class:"h-6 w-6 text-blue-600"})]),t[9]||(t[9]=e("h2",{class:"text-xl font-semibold text-gray-900"},"General Settings",-1))]),e("div",oe,[l(x,{modelValue:s.site_name,"onUpdate:modelValue":t[0]||(t[0]=a=>s.site_name=a),label:"Site Name",placeholder:"Rich English Learning Platform",hint:"The name displayed throughout the platform"},null,8,["modelValue"]),l(x,{modelValue:s.site_email,"onUpdate:modelValue":t[1]||(t[1]=a=>s.site_email=a),label:"Site Email",type:"email",placeholder:"admin@richenglish.com",hint:"Default email for system notifications"},null,8,["modelValue"]),l(x,{modelValue:s.site_url,"onUpdate:modelValue":t[2]||(t[2]=a=>s.site_url=a),label:"Site URL",placeholder:"https://richenglish.com",hint:"Base URL of the application"},null,8,["modelValue"]),l(x,{modelValue:s.timezone,"onUpdate:modelValue":t[3]||(t[3]=a=>s.timezone=a),label:"Timezone",placeholder:"UTC",hint:"Default timezone for the system"},null,8,["modelValue"]),l(x,{modelValue:s.date_format,"onUpdate:modelValue":t[4]||(t[4]=a=>s.date_format=a),label:"Date Format",placeholder:"Y-m-d",hint:"Default date format (e.g., Y-m-d, m/d/Y)"},null,8,["modelValue"]),l(x,{modelValue:s.currency,"onUpdate:modelValue":t[5]||(t[5]=a=>s.currency=a),label:"Currency",placeholder:"USD",hint:"Default currency code"},null,8,["modelValue"])])]),_:1}),l(S,{class:"p-6"},{default:u(()=>[e("div",re,[e("div",ie,[l(c(P),{class:"h-6 w-6 text-purple-600"})]),t[10]||(t[10]=e("h2",{class:"text-xl font-semibold text-gray-900"},"System Settings",-1))]),e("div",de,[e("label",ue,[$(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>s.maintenance_mode=a),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[B,s.maintenance_mode]]),t[11]||(t[11]=e("div",null,[e("span",{class:"text-sm font-medium text-gray-900"},"Maintenance Mode"),e("p",{class:"text-xs text-gray-500"},"Enable to put the site in maintenance mode")],-1))])])]),_:1}),l(S,{class:"p-6"},{default:u(()=>[e("div",me,[e("div",ce,[l(c(H),{class:"h-6 w-6 text-green-600"})]),t[12]||(t[12]=e("h2",{class:"text-xl font-semibold text-gray-900"},"Notification Settings",-1))]),e("div",fe,[e("label",ge,[$(e("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>s.email_notifications=a),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[B,s.email_notifications]]),t[13]||(t[13]=e("div",null,[e("span",{class:"text-sm font-medium text-gray-900"},"Email Notifications"),e("p",{class:"text-xs text-gray-500"},"Enable email notifications system-wide")],-1))]),e("label",pe,[$(e("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>s.system_notifications=a),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[B,s.system_notifications]]),t[14]||(t[14]=e("div",null,[e("span",{class:"text-sm font-medium text-gray-900"},"System Notifications"),e("p",{class:"text-xs text-gray-500"},"Enable in-app notifications")],-1))])]),e("div",ye,[l(E,{onClick:y,variant:"secondary"},{default:u(()=>[l(c(I),{class:"h-4 w-4 mr-2"}),t[15]||(t[15]=b(" Send Test Email ",-1))]),_:1})])]),_:1}),l(S,{class:"p-6"},{default:u(()=>[e("div",ve,[e("div",xe,[l(c(G),{class:"h-6 w-6 text-red-600"})]),t[16]||(t[16]=e("h2",{class:"text-xl font-semibold text-gray-900"},"Security Settings",-1))]),e("div",he,[e("div",be,[t[18]||(t[18]=e("div",null,[e("p",{class:"text-sm font-medium text-gray-900"},"Session Timeout"),e("p",{class:"text-xs text-gray-500"},"Automatic logout after inactivity")],-1)),l(D,{variant:"success"},{default:u(()=>[...t[17]||(t[17]=[b("24 hours",-1)])]),_:1})]),e("div",we,[t[20]||(t[20]=e("div",null,[e("p",{class:"text-sm font-medium text-gray-900"},"Two-Factor Authentication"),e("p",{class:"text-xs text-gray-500"},"Enhanced security for all users")],-1)),l(D,{variant:"warning"},{default:u(()=>[...t[19]||(t[19]=[b("Optional",-1)])]),_:1})])])]),_:1}),e("div",_e,[l(E,{variant:"secondary",onClick:p},{default:u(()=>[...t[21]||(t[21]=[b("Reset",-1)])]),_:1}),l(E,{variant:"primary",onClick:_,disabled:g.value},{default:u(()=>[g.value?h("",!0):(i(),O(c(Y),{key:0,class:"h-4 w-4 mr-2"})),b(" "+k(g.value?"Saving...":"Save Settings"),1)]),_:1},8,["disabled"])])])]),_:1})],64))}};export{Ce as default};
